<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Ptree (ptree.Ptree)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">ptree</a> &#x00BB; Ptree</nav><header class="odoc-preamble"><h1>Module <code><span>Ptree</span></code></h1><p>ptree.ml is a multipurpose data serialization / deserialization library for OCaml, currently supporting INI, JSON, and XML file types. It models the data as a file system that can be explored and edited using commands reminiscent of the Unix terminal.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec exception" id="exception-Ptree_exception" class="anchored"><a href="#exception-Ptree_exception" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Ptree_exception</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>The exception type used throughout the library. Is generally thrown whenever parsing fails, an invalid action is attempted in a peditor, or a peditor cannot be written to a certain file format.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-StrDict" class="anchored"><a href="#module-StrDict" class="anchor"></a><code><span><span class="keyword">module</span> <a href="StrDict/index.html">StrDict</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>An immutable map from strings to any value, generated using the <code>Stdlib.Map.Make</code> functor. In this library, it is primarily used to map from key names to ptree values.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-ptree" class="anchored"><a href="#type-ptree" class="anchor"></a><code><span><span class="keyword">type</span> ptree</span><span> = </span></code><table><tr id="type-ptree.Int" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Int" class="anchor"></a><code><span>| </span><span><span class="constructor">Int</span> <span class="keyword">of</span> int64</span></code></td></tr><tr id="type-ptree.Float" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Float" class="anchor"></a><code><span>| </span><span><span class="constructor">Float</span> <span class="keyword">of</span> float</span></code></td></tr><tr id="type-ptree.String" class="anchored"><td class="def variant constructor"><a href="#type-ptree.String" class="anchor"></a><code><span>| </span><span><span class="constructor">String</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-ptree.Boolean" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Boolean" class="anchor"></a><code><span>| </span><span><span class="constructor">Boolean</span> <span class="keyword">of</span> bool</span></code></td></tr><tr id="type-ptree.Null" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Null" class="anchor"></a><code><span>| </span><span><span class="constructor">Null</span></span></code></td></tr><tr id="type-ptree.Array" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Array" class="anchor"></a><code><span>| </span><span><span class="constructor">Array</span> <span class="keyword">of</span> <span><a href="#type-ptree">ptree</a> array</span></span></code></td></tr><tr id="type-ptree.Tree" class="anchored"><td class="def variant constructor"><a href="#type-ptree.Tree" class="anchor"></a><code><span>| </span><span><span class="constructor">Tree</span> <span class="keyword">of</span> <span><a href="#type-ptree">ptree</a> <a href="StrDict/index.html#type-t">StrDict.t</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>A <code>ptree</code> (short for &quot;property tree&quot;) is the core data structure of the library and represents a tree of properties. It can take on a variety of different leaf node types (integer, floating-point, strings, booleans, etc) or it can hold other ptree values in its Array and Tree variants.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-peditor" class="anchored"><a href="#type-peditor" class="anchor"></a><code><span><span class="keyword">type</span> peditor</span><span> = </span><span>{</span></code><table><tr id="type-peditor.under" class="anchored"><td class="def record field"><a href="#type-peditor.under" class="anchor"></a><code><span>under : <a href="#type-ptree">ptree</a>;</span></code></td></tr><tr id="type-peditor.above" class="anchored"><td class="def record field"><a href="#type-peditor.above" class="anchor"></a><code><span>above : <span><span>(string * <a href="#type-peditor">peditor</a>)</span> option</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The <code>peditor</code> (short for &quot;property editor&quot;) is the structure that users will primarily interact with. It is essentially a pointer to a certain position in a ptree, and provides operations for navigating through and editing the ptree.</p><p>Note that the <code>under</code> and <code>above</code> attributes in the record object are not intended for users to directly access or modify, and are for internal bookkeeping purposes. Stick to using provided functions to interact with peditor objects.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_int" class="anchored"><a href="#val-get_int" class="anchor"></a><code><span><span class="keyword">val</span> get_int : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> int64</span></code></div><div class="spec-doc"><p>Get the integer value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not an <code>Int</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_float" class="anchored"><a href="#val-get_float" class="anchor"></a><code><span><span class="keyword">val</span> get_float : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Get the float value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not a <code>Float</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_string" class="anchored"><a href="#val-get_string" class="anchor"></a><code><span><span class="keyword">val</span> get_string : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Get the string value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not a <code>String</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_boolean" class="anchored"><a href="#val-get_boolean" class="anchor"></a><code><span><span class="keyword">val</span> get_boolean : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Get the boolean value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not a <code>Boolean</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_array" class="anchored"><a href="#val-get_array" class="anchor"></a><code><span><span class="keyword">val</span> get_array : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ptree">ptree</a> array</span></span></code></div><div class="spec-doc"><p>Get the array value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not an <code>Array</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_tree" class="anchored"><a href="#val-get_tree" class="anchor"></a><code><span><span class="keyword">val</span> get_tree : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ptree">ptree</a> <a href="StrDict/index.html#type-t">StrDict.t</a></span></span></code></div><div class="spec-doc"><p>Get the tree value out of a Ptree data. Raises <code>Ptree_exception</code> if the given Ptree is not a <code>Tree</code> variant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>The &quot;empty&quot; <code>peditor</code> points to the root of an empty <code>ptree</code>. This can be used if trying to serialize from scratch, and not loading in from an existing JSON/INI/XML file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_ptree" class="anchored"><a href="#val-peditor_of_ptree" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_ptree : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Attaches a <code>peditor</code> to a <code>ptree</code> by pointing it to the root node of the <code>ptree</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parent" class="anchored"><a href="#val-parent" class="anchor"></a><code><span><span class="keyword">val</span> parent : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Equivalent to <code>cd ..</code> in the Unix terminal; moves from the current directory up to the parent directory that contains this current directory. If the <code>peditor</code> is already at the root, i.e. there is no parent to move to, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parent_opt" class="anchored"><a href="#val-parent_opt" class="anchor"></a><code><span><span class="keyword">val</span> parent_opt : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if the <code>peditor</code> was already at the root instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-root" class="anchored"><a href="#val-root" class="anchor"></a><code><span><span class="keyword">val</span> root : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Moves the <code>peditor</code> from wherever it is in the filesystem tree back to the root directory. Equivalent to calling <code>parent_opt</code> until <code>None</code> is returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cd" class="anchored"><a href="#val-cd" class="anchor"></a><code><span><span class="keyword">val</span> cd : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p><code>Ptree.cd [&quot;one dir&quot; ; &quot;subdir&quot;] pe</code> moves the <code>peditor</code> <code>pe</code> into the subfolder of the current folder named &quot;one dir&quot;, and then into the sub-subfolder &quot;subdir&quot; contained within &quot;one dir&quot;. If any folder along that path does not exist, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cd_opt" class="anchored"><a href="#val-cd_opt" class="anchor"></a><code><span><span class="keyword">val</span> cd_opt : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if the given path did not exist within the tree instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-put" class="anchored"><a href="#val-put" class="anchor"></a><code><span><span class="keyword">val</span> put : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p><code>Ptree.put x pe</code> puts <code>x</code> into the <code>ptree</code> that <code>pe</code> is attached to, at <code>pe</code>'s current position. If any value is already there, it will be overwritten. Equivalent to <code>Ptree.put_path x [] pe</code>. If this operation is attempted with a non-<code>Tree</code> <code>ptree</code> variant on the root node, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-put_path" class="anchored"><a href="#val-put_path" class="anchor"></a><code><span><span class="keyword">val</span> put_path : <span><a href="#type-ptree">ptree</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p><code>Ptree.put_path x [&quot;one dir&quot; ; &quot;subdir&quot;] pe</code> puts <code>x</code> into the <code>ptree</code> that <code>pe</code> is attached to, relative to <code>pe</code>'s current position in the tree. If any of the subdirectories do not exist, they will be created. If the path already points to an existing value, it will be overwritten.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cat" class="anchored"><a href="#val-cat" class="anchor"></a><code><span><span class="keyword">val</span> cat : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ptree">ptree</a></span></code></div><div class="spec-doc"><p>Get the <code>ptree</code> value currently pointed to by the <code>peditor</code> at its current position. Equivalent to <code>Ptree.cat_path [] pe</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cat_path" class="anchored"><a href="#val-cat_path" class="anchor"></a><code><span><span class="keyword">val</span> cat_path : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ptree">ptree</a></span></code></div><div class="spec-doc"><p><code>Ptree.cat_path [&quot;one dir&quot; ; &quot;subdir&quot;] pe</code> gets the <code>ptree</code> value at the given path relative to <code>pe</code>'s current position. If any subdirectory along the path does not exist, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cat_path_opt" class="anchored"><a href="#val-cat_path_opt" class="anchor"></a><code><span><span class="keyword">val</span> cat_path_opt : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-ptree">ptree</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if the given path did not exist within the tree instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rm" class="anchored"><a href="#val-rm" class="anchor"></a><code><span><span class="keyword">val</span> rm : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a> * <a href="#type-ptree">ptree</a></span></code></div><div class="spec-doc"><p>Remove the <code>ptree</code> node currently pointed to by the <code>peditor</code>. The <code>peditor</code> is placed back at the parent node in the tree, and the removed <code>ptree</code> element is returned alongside the new <code>peditor</code>. If this operation is attempted on the root node, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rm_opt" class="anchored"><a href="#val-rm_opt" class="anchor"></a><code><span><span class="keyword">val</span> rm_opt : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-peditor">peditor</a> * <a href="#type-ptree">ptree</a>)</span> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if the root was attempted to be deleted instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rm_path" class="anchored"><a href="#val-rm_path" class="anchor"></a><code><span><span class="keyword">val</span> rm_path : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a> * <a href="#type-ptree">ptree</a></span></code></div><div class="spec-doc"><p><code>Ptree.rm_path [&quot;one dir&quot; ; &quot;subdir&quot;] pe</code> deletes the <code>ptree</code> node located at the specified path, and returns it in a tuple along with the new <code>peditor</code>. If the path points to the root, or if the path does not exist within the tree, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rm_path_opt" class="anchored"><a href="#val-rm_path_opt" class="anchor"></a><code><span><span class="keyword">val</span> rm_path_opt : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-peditor">peditor</a> * <a href="#type-ptree">ptree</a>)</span> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if the given path did not exist within the tree instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mv" class="anchored"><a href="#val-mv" class="anchor"></a><code><span><span class="keyword">val</span> mv : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p><code>Ptree.mv [&quot;from&quot; ; &quot;here&quot;] [&quot;to&quot; ; &quot;there&quot;] pe</code> moves (i.e. removes and then reinserts) the <code>ptree</code> value at the first path (relative to <code>pe</code>'s current position within the tree) to the second path, relative to <code>pe</code>'s current position in the tree. If the first path does not exist within the tree, a <code>Ptree_exception</code> is thrown. If the second path does not exist within the tree, subdirectories will be created until it exists.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cp" class="anchored"><a href="#val-cp" class="anchor"></a><code><span><span class="keyword">val</span> cp : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p><code>Ptree.cp [&quot;from&quot; ; &quot;here&quot;] [&quot;to&quot; ; &quot;there&quot;] pe</code> copies (i.e. <code>cat</code>s out and then inserts) the <code>ptree</code> value at the first path (relative to <code>pe</code>'s current position within the tree) to the second path, relative to <code>pe</code>'s current position in the tree. If the first path does not exist within the tree, a <code>Ptree_exception</code> is thrown. If the second path does not exist within the tree, subdirectories will be created until it exists.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ls" class="anchored"><a href="#val-ls" class="anchor"></a><code><span><span class="keyword">val</span> ls : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>Ptree.ls [&quot;one dir&quot; ; &quot;subdir&quot;] pe</code> gets the names of all subdirectories at the directory located at the given path, relative to <code>pe</code>'s current position within the tree. If the specified path points to a leaf node (i.e. not a directory), or if the path does not exist within the tree, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ls_opt" class="anchored"><a href="#val-ls_opt" class="anchor"></a><code><span><span class="keyword">val</span> ls_opt : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pwd" class="anchored"><a href="#val-pwd" class="anchor"></a><code><span><span class="keyword">val</span> pwd : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Get the path pointing to the <code>peditor</code>'s current position within the tree, relative to the root.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-depth" class="anchored"><a href="#val-depth" class="anchor"></a><code><span><span class="keyword">val</span> depth : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Get the depth of the sub-<code>ptree</code> under the <code>peditor</code>'s current position. To get the depth of the whole tree, use <code>Ptree.root</code> first followed by <code>Ptree.depth</code>. This function is especially useful for ensuring the <code>ptree</code> can be properly converted to a certain file format, especially one that does not support lots of nesting like the INI format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_ini" class="anchored"><a href="#val-peditor_of_ini" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_ini : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Parse the string containing INI into a <code>peditor</code> object (which will be pointing at the root). If there is a parse error, a <code>Ptree_exception</code> will be thrown with the parse error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_ini_opt" class="anchored"><a href="#val-peditor_of_ini_opt" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_ini_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if parsing was unsuccessful instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_json" class="anchored"><a href="#val-peditor_of_json" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_json : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Parse the string containing JSON into a <code>peditor</code> object (which will be pointing at the root). If there is a parse error, a <code>Ptree_exception</code> will be thrown with the parse error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_json_opt" class="anchored"><a href="#val-peditor_of_json_opt" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_json_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if parsing was unsuccessful instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_xml" class="anchored"><a href="#val-peditor_of_xml" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_xml : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Parse the string containing XML into a <code>peditor</code> object (which will be pointing at the root). If there is a parse error, a <code>Ptree_exception</code> will be thrown with the parse error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_xml_opt" class="anchored"><a href="#val-peditor_of_xml_opt" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_xml_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> option</span></span></code></div><div class="spec-doc"><p>Same as the above function, except returns <code>None</code> if parsing was unsuccessful instead of throwing an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-validate_ini_key" class="anchored"><a href="#val-validate_ini_key" class="anchor"></a><code><span><span class="keyword">val</span> validate_ini_key : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Validates an INI key (ensuring it does not contain any illegal characters), acting like the identity function and returning the string itself if it is a valid key. If not, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-validate_xml_key" class="anchored"><a href="#val-validate_xml_key" class="anchor"></a><code><span><span class="keyword">val</span> validate_xml_key : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Validates an XML key (ensuring it does not contain any illegal characters), acting like the identity function and returning the string itself if it is a valid key. If not, a <code>Ptree_exception</code> is thrown.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ini_of_peditor" class="anchored"><a href="#val-ini_of_peditor" class="anchor"></a><code><span><span class="keyword">val</span> ini_of_peditor : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert the entire <code>ptree</code> pointed to by the <code>peditor</code> (not just the subtree under the <code>peditor</code>) into an INI string. If the depth of the <code>ptree</code> is greater than two (i.e. if it contains sub-subdirectories) a <code>Ptree_exception</code> is thrown, as the INI format does not support such nesting.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-json_of_peditor_tab" class="anchored"><a href="#val-json_of_peditor_tab" class="anchor"></a><code><span><span class="keyword">val</span> json_of_peditor_tab : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert the entire <code>ptree</code> pointed to by the <code>peditor</code> (not just the subtree under the <code>peditor</code>) into a JSON string. The string argument specifies the string used as the tab character. Please ensure that that argument consists solely of whitespace; if not, invalid JSON can be returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-json_of_peditor" class="anchored"><a href="#val-json_of_peditor" class="anchor"></a><code><span><span class="keyword">val</span> json_of_peditor : <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert the entire <code>ptree</code> pointed to by the <code>peditor</code> (not just the subtree under the <code>peditor</code>) into a JSON string. A default indent of two spaces is used to pretty-print the JSON.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-xml_of_peditor_tab" class="anchored"><a href="#val-xml_of_peditor_tab" class="anchor"></a><code><span><span class="keyword">val</span> xml_of_peditor_tab : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert the entire <code>ptree</code> pointed to by the <code>peditor</code> (not just the subtree under the <code>peditor</code>) into an XML string. The string argument specifies the string used as the tab character. Please ensure that that argument consists solely of whitespace; if not, invalid XML can be returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-xml_of_peditor" class="anchored"><a href="#val-xml_of_peditor" class="anchor"></a><code><span><span class="keyword">val</span> xml_of_peditor : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert the entire <code>ptree</code> pointed to by the <code>peditor</code> (not just the subtree under the <code>peditor</code>) into an XML string. A default indent of two spaces is used to pretty-print the XML.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-supported_types" class="anchored"><a href="#type-supported_types" class="anchor"></a><code><span><span class="keyword">type</span> supported_types</span><span> = </span></code><table><tr id="type-supported_types.JSON" class="anchored"><td class="def variant constructor"><a href="#type-supported_types.JSON" class="anchor"></a><code><span>| </span><span><span class="constructor">JSON</span></span></code></td></tr><tr id="type-supported_types.XML" class="anchored"><td class="def variant constructor"><a href="#type-supported_types.XML" class="anchor"></a><code><span>| </span><span><span class="constructor">XML</span></span></code></td></tr><tr id="type-supported_types.INI" class="anchored"><td class="def variant constructor"><a href="#type-supported_types.INI" class="anchor"></a><code><span>| </span><span><span class="constructor">INI</span></span></code></td></tr></table></div><div class="spec-doc"><p>An enumeration of the file types currently supported by the library.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_file_type" class="anchored"><a href="#val-peditor_of_file_type" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_file_type : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-supported_types">supported_types</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Parse the file containing the specified file type at the given path into a <code>peditor</code> object (which will be pointing at the root). If there is a parse error, a <code>Ptree_exception</code> will be thrown with the parse error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-peditor_of_file" class="anchored"><a href="#val-peditor_of_file" class="anchor"></a><code><span><span class="keyword">val</span> peditor_of_file : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-peditor">peditor</a></span></code></div><div class="spec-doc"><p>Parse the file into a <code>peditor</code> object (which will be pointing at the root). The file format will be detected based on the file extension (i.e. expecting one of &quot;.ini&quot;, &quot;.json&quot;, and &quot;.xml&quot;). If the desired file does not have that extension, or if the format is already known, prefer to use <code>peditor_of_file_type</code>. If there is a parse error, a <code>Ptree_exception</code> will be thrown with the parse error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-file_of_peditor_type" class="anchored"><a href="#val-file_of_peditor_type" class="anchor"></a><code><span><span class="keyword">val</span> file_of_peditor_type : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-supported_types">supported_types</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write out the entire <code>ptree</code> pointed to by the <code>peditor</code> in the specified format to the file at the given path.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-file_of_peditor" class="anchored"><a href="#val-file_of_peditor" class="anchor"></a><code><span><span class="keyword">val</span> file_of_peditor : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-peditor">peditor</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write out the entire <code>ptree</code> pointed to by the <code>peditor</code> to the file at the given path. The format to convert the <code>ptree</code> to will be detected based on the file extension (i.e. expecting one of &quot;.ini&quot;, &quot;.json&quot;, and &quot;.xml&quot;).</p></div></div></div></body></html>